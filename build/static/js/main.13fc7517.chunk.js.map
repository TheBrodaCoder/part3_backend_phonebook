{"version":3,"sources":["Persons.js","BookLine.js","Book.js","Filter.js","NewEntry.js","Notification.js","service/Persons_service.js","App.js","index.js"],"names":["persons","name","number","BookLine","props","id","onClick","handleClick","Book","searchedPhones","isSearching","map","person","Filter","type","onChange","handleSearch","onKeyUp","handleKeyUp","value","stringToSearch","NewEntry","onSubmit","handleSubmit","handleChange","newName","newNumber","Notification","noti","console","log","display","className","style","borderRadius","border","error","backgroundColor","width","alignItems","color","fontWeight","textAlign","msj","baseUrl","axios","get","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setStrSearch","setSearchedPhones","setIsSearching","setNoti","useEffect","personService","then","response","data","catch","handleNoti","setTimeout","evt","preventDefault","target","searchedPhone","filter","match","RegExp","newPerson","some","finally","alert","window","confirm","personToUpdate","deleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13fc7517.chunk.js","sourcesContent":[" let persons = [\r\n    { name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  ]\r\n\r\nexport default persons;","import React from 'react';\r\n\r\nconst BookLine = (props) => {\r\n    return (\r\n        <tr>\r\n            <td>\r\n                {props.name}\r\n            </td>\r\n            <td>\r\n                {props.number}\r\n            </td>\r\n            <td>\r\n                <button name={props.id} onClick={props.handleClick} >Delete</button>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default BookLine;","import React from 'react';\r\nimport BookLine from './BookLine';\r\n\r\n\r\nconst Book = ({persons, searchedPhones, isSearching, handleClick}) => {\r\n\r\n    return (\r\n        <table>\r\n            <tbody>\r\n                {\r\n                    !isSearching ?\r\n                    (\r\n                        persons.map(\r\n                            person => <BookLine key={`${person.name}_${person.number}`} name={person.name} number={person.number} id={person.id} handleClick={handleClick}/>\r\n                        )\r\n                    )\r\n                    :\r\n                    (\r\n                        searchedPhones.map(\r\n                            person => <BookLine key={`${person.name}_${person.number}`} name={person.name} number={person.number} id={person.id} handleClick={handleClick}/>\r\n                        )\r\n                    )\r\n                }\r\n            </tbody>\r\n        </table>\r\n    )\r\n    \r\n}\r\n\r\nexport default Book;","import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input type='text' onChange={props.handleSearch} onKeyUp={props.handleKeyUp} value={props.stringToSearch} name='strToSearch'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst NewEntry = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                name: <input onChange={props.handleChange} value={props.newName} name={'name'}/>\r\n                number: <input onChange={props.handleChange} value={props.newNumber} name={'number'}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewEntry;","\r\nimport React from 'react';\r\n\r\nconst Notification = ({noti}) => {\r\n    console.log(noti)\r\n    if (noti.display === false) {\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <div className='Notification-block' style={{\r\n            borderRadius: '0.5em',\r\n            border: `solid 2px ${noti.error ? 'red' : 'green'}`,\r\n            backgroundColor: `${noti.error ? '#FD8181' : 'lightgreen'}`,\r\n            display: `block`,\r\n            width: '300px',\r\n            alignItems: 'center'\r\n        }}>\r\n            <p className='Notification-text' style={{\r\n                color: noti.error ? 'red' : 'green',\r\n                fontWeight: 300,\r\n                textAlign: 'center'\r\n            }}>{noti.msj}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl);\r\n}\r\n\r\nconst addPerson = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst popPerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updatePerson = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n// eslint-disable-next-line\r\nexport default {\r\n    getAll,\r\n    addPerson,\r\n    popPerson,\r\n    updatePerson\r\n}","import React, { useEffect, useState } from 'react'\nimport Book from './Book';\nimport Filter from './Filter';\nimport NewEntry from './NewEntry';\nimport Notification from './Notification';\nimport personService from './service/Persons_service';\n\n\nconst App = (props) => {\n\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ stringToSearch, setStrSearch ] = useState('');\n  const [ searchedPhones, setSearchedPhones] = useState([]);\n  const [ isSearching, setIsSearching] = useState(false);\n  const [noti, setNoti] = useState({\n    msj: 'Default msg',\n    display: false,\n    error: false\n  })\n\n  useEffect(() => {\n    personService.getAll().then(response => {setPersons(response.data)}).catch(\n      error => {\n        console.log('Cant resolve persons');\n      }\n    )\n  }, [])\n\n  const handleNoti = (msj, error) => {\n    let newNoti = {\n      msj: msj,\n      display: true,\n      error: error\n    };\n    setNoti(newNoti);\n\n    setTimeout(() => {\n      setNoti({\n      msj: 'Default msg',\n      display: false,\n      error: false\n    })\n  }, 5000);\n\n  }\n\n  const handleChange = (evt) => {\n    evt.target.name === 'name' ? \n    setNewName(evt.target.value)\n    :\n    setNewNumber(evt.target.value)\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    \n    if (newName !== '' && newNumber !== '') {\n\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      const findPerson = persons.some(person => person.name === newName);\n\n      if (findPerson === false) {\n\n        personService.addPerson(newPerson).then(\n          response => {\n            setNewNumber('');\n            setNewName('');\n          }\n        ).catch(\n          error=>\n          handleNoti('error at upload new person ' + error, true)\n        ).finally(\n          () => {\n            personService.getAll().then(response => {setPersons(response.data)}).catch(\n              error => {\n                handleNoti('error at upload new person ' + error, true)\n              }\n            )\n            handleNoti(`${newPerson.name} is now added to the phonebook`, false);\n          }\n        )\n        \n      }else if (persons.some(person => person.number === newNumber)) {\n        alert(`${newNumber} is already on the phonebook`);\n      } else {\n        let update = window.confirm(`Do you want to update ${newName} phonenumber`);\n        if (update) {\n          let personToUpdate = persons.filter(person => person.name === newName);\n         \n          personService.updatePerson(personToUpdate[0].id, newPerson).catch(\n            error => handleNoti('error at upload new person ' + error, true)\n          ).then(\n            (response) => {\n              handleNoti(`${newName} number is already updated`, true)\n              setPersons(persons.map(\n                person => person.id !== personToUpdate[0].id ? person : response.data\n                \n              ))\n              setNewName('');\n              setNewNumber('');\n            }\n          )\n        }\n      }\n    } else {\n      alert('All inputs need to be filled');\n    }\n  };\n\n  const handleSearch = (evt) => {\n    evt.preventDefault();\n    setStrSearch(evt.target.value);\n    if (evt.target.value === '') {\n      setIsSearching(false);\n    } else {\n      setIsSearching(true);\n    }\n  }\n\n  const handleKeyUp = (evt) => {\n    let searchedPhone = persons.filter(person => person.name.match(new RegExp(stringToSearch, 'i')));\n    setSearchedPhones(searchedPhone);\n  }\n\n  const handleClick = (evt) => {\n    let deleted = true;\n    let id = evt.target.name;\n\n    personService.popPerson(id).catch(\n      error => {\n        handleNoti('error at removing entry. That entry doesnt exist', true);\n        deleted = false;\n        personService.getAll().then(response => {setPersons(response.data)}).catch(\n          error => {\n            handleNoti('error at upload new person ' + error, true)\n          }\n        );\n      }\n    ).finally(\n      () => {\n        if (deleted) {\n          personService.getAll().then(response => {setPersons(response.data)}).catch(\n            error => {\n              handleNoti('error at upload new person ' + error, true)\n            }\n          );\n          handleNoti('deleted sucesfully', false);\n        }\n      }\n    );\n    \n    \n  }\n\n  \n  return (\n    <div >\n      <h2>Phonebook</h2>\n      <Filter handleSearch={handleSearch} handleKeyUp={handleKeyUp} stringToSearch={stringToSearch}/>\n      <h2>Add a new entry</h2>\n      <Notification noti={noti}/>\n      <NewEntry handleSubmit={handleSubmit} handleChange={handleChange} newName={newName} newNumber={newNumber}/>\n      <h2>Numbers</h2>\n      <Book persons={persons} searchedPhones={searchedPhones} isSearching={isSearching} handleClick={handleClick}/>\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport persons from './Persons';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App persons={persons}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}